language: python
cache:
  pip: true
  directories:
    - $HOME/.cache/pre-commit

python:
  - "2.7"
  - "3.5"
  - "3.6"
  - "3.7"
  - "3.8"

install:
  - "pip install setuptools --upgrade"
  - "pip install pytest pre-commit"
  - "pre-commit install"
  - "pip install ."
env:
  - MODEL_TECH=dummy_value
script:
  - "set -e"
  - "pre-commit run --all-files --show-diff-on-failure"
  - "fusesoc init -y"
  - "fusesoc list-cores"
  - "fusesoc library update"
  - "pytest"
